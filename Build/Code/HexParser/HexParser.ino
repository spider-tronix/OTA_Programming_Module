#include "HexParser.h"

void showHEX(const byte B){
  if(B<16){
    Serial.print(F("0"));
  }
  Serial.print(B,HEX);
}

uint8_t file[] = {
':','1','0','0','0','0','0','0','0','0','C','9','4','3','4','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','8','2',' ','\n',
':','1','0','0','0','1','0','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','6','8',' ','\n',
':','1','0','0','0','2','0','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','5','8',' ','\n', 
':','1','0','0','0','3','0','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','4','8',' ','\n',
':','1','0','0','0','4','0','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','3','8',' ','\n',
':','1','0','0','0','5','0','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','2','8',' ','\n',
':','1','0','0','0','6','0','0','0','0','C','9','4','3','E','0','0','0','C','9','4','3','E','0','0','1','1','2','4','1','F','B','E','C','F','E','F','D','8','E','0','4','C',' ','\n',
':','1','0','0','0','7','0','0','0','D','E','B','F','C','D','B','F','0','E','9','4','4','0','0','0','0','C','9','4','5','8','0','0','0','C','9','4','0','0','0','0','D','D',' ','\n',
':','1','0','0','0','8','0','0','0','8','F','E','F','8','4','B','9','1','5','B','8','8','5','B','9','2','F','E','F','3','3','E','D','9','0','E','3','2','1','5','0','8','8',' ','\n',
':','1','0','0','0','9','0','0','0','3','0','4','0','9','0','4','0','E','1','F','7','0','0','C','0','0','0','0','0','1','5','B','8','2','F','E','F','3','3','E','D','7','D',' ','\n',
':','1','0','0','0','A','0','0','0','9','0','E','3','2','1','5','0','3','0','4','0','9','0','4','0','E','1','F','7','0','0','C','0','0','0','0','0','E','B','C','F','D','A',' ','\n',
':','0','4','0','0','B','0','0','0','F','8','9','4','F','F','C','F','F','2',' ','\n',
':','0','0','0','0','0','0','0','1','F','F',' ','\n', 
};

void setup(){ 
  int file_size = sizeof(file)/sizeof(file[0]);
  Serial.begin(9600);
  Serial.println("Testing Hex Parser.");
  size_t Length = 0;
  uint8_t data[file_size];
  Parser(file, file_size, &Length, data);
  Serial.print("Length of parsed = ");Serial.println(Length);
  for (int i=0,j=0;i<Length;i++,j++) { 
    if(j>=16){
      j=0;
      Serial.print("\n");
    }
    showHEX(data[i]);Serial.print(", ");     
  }
}

void loop(){
}
